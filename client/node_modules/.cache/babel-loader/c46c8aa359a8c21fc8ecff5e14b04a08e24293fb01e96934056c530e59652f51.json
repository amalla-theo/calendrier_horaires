{"ast":null,"code":"var _jsxFileName = \"/home/dev1/Bureau/calendrier_horaires/client/src/components/Calendrier.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport WeeklyCalendar from './CalendrierHebdo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Calendrier = () => {\n  _s();\n  const [serverMessage, setServerMessage] = useState('');\n  const [error, setError] = useState('');\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [selectedEmployee, setSelectedEmployee] = useState('');\n  const [employees, setEmployees] = useState([]);\n  const [workSchedule, setWorkSchedule] = useState(null);\n  useEffect(() => {\n    // Test de connexion\n    fetch('http://localhost:3001/api/test').then(response => response.json()).then(data => setServerMessage(data.message)).catch(err => setError(err.message));\n\n    // Chargement des données employés\n    fetch('http://localhost:3001/api/employees').then(response => response.json()).then(data => setEmployees(data.employees)).catch(err => setError('Erreur lors du chargement des employés: ' + err.message));\n  }, []);\n  const handleDateSelect = date => {\n    setSelectedDate(date);\n  };\n  const handleEmployeeChange = event => {\n    const employeeId = parseInt(event.target.value);\n    setSelectedEmployee(employeeId);\n\n    // Trouver l'employé sélectionné et son planning\n    const selectedEmp = employees.find(emp => emp.id === employeeId);\n    if (selectedEmp) {\n      setWorkSchedule(selectedEmp.schedule);\n    } else {\n      setWorkSchedule(null);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calendar-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"employee-selector\",\n      children: /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedEmployee,\n        onChange: handleEmployeeChange,\n        className: \"employee-select\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"S\\xE9lectionner un employ\\xE9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), employees.map(employee => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: employee.id,\n          children: employee.name\n        }, employee.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"server-test\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Test de connexion serveur\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), serverMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"success-message\",\n        children: serverMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 27\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: [\"Erreur: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-container\",\n      children: /*#__PURE__*/_jsxDEV(WeeklyCalendar, {\n        selectedDate: selectedDate,\n        onDateSelect: handleDateSelect,\n        workSchedule: workSchedule\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(Calendrier, \"47vRFDv4DM2GEL9y9/GitPoPT1Y=\");\n_c = Calendrier;\nexport default Calendrier;\nvar _c;\n$RefreshReg$(_c, \"Calendrier\");","map":{"version":3,"names":["React","useState","useEffect","WeeklyCalendar","jsxDEV","_jsxDEV","Calendrier","_s","serverMessage","setServerMessage","error","setError","selectedDate","setSelectedDate","Date","selectedEmployee","setSelectedEmployee","employees","setEmployees","workSchedule","setWorkSchedule","fetch","then","response","json","data","message","catch","err","handleDateSelect","date","handleEmployeeChange","event","employeeId","parseInt","target","value","selectedEmp","find","emp","id","schedule","className","children","onChange","fileName","_jsxFileName","lineNumber","columnNumber","map","employee","name","onDateSelect","_c","$RefreshReg$"],"sources":["/home/dev1/Bureau/calendrier_horaires/client/src/components/Calendrier.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport WeeklyCalendar from './CalendrierHebdo';\n\nconst Calendrier = () => {\n  const [serverMessage, setServerMessage] = useState('');\n  const [error, setError] = useState('');\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [selectedEmployee, setSelectedEmployee] = useState('');\n  const [employees, setEmployees] = useState([]);\n  const [workSchedule, setWorkSchedule] = useState(null);\n\n  useEffect(() => {\n    // Test de connexion\n    fetch('http://localhost:3001/api/test')\n      .then(response => response.json())\n      .then(data => setServerMessage(data.message))\n      .catch(err => setError(err.message));\n\n    // Chargement des données employés\n    fetch('http://localhost:3001/api/employees')\n      .then(response => response.json())\n      .then(data => setEmployees(data.employees))\n      .catch(err => setError('Erreur lors du chargement des employés: ' + err.message));\n  }, []);\n\n  const handleDateSelect = (date) => {\n    setSelectedDate(date);\n  };\n\n  const handleEmployeeChange = (event) => {\n    const employeeId = parseInt(event.target.value);\n    setSelectedEmployee(employeeId);\n    \n    // Trouver l'employé sélectionné et son planning\n    const selectedEmp = employees.find(emp => emp.id === employeeId);\n    if (selectedEmp) {\n      setWorkSchedule(selectedEmp.schedule);\n    } else {\n      setWorkSchedule(null);\n    }\n  };\n\n  return (\n    <div className=\"calendar-page\">\n      <div className=\"employee-selector\">\n        <select \n          value={selectedEmployee} \n          onChange={handleEmployeeChange}\n          className=\"employee-select\"\n        >\n          <option value=\"\">Sélectionner un employé</option>\n          {employees.map(employee => (\n            <option key={employee.id} value={employee.id}>\n              {employee.name}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"server-test\">\n        <h3>Test de connexion serveur</h3>\n        {serverMessage && <p className=\"success-message\">{serverMessage}</p>}\n        {error && <p className=\"error-message\">Erreur: {error}</p>}\n      </div>\n\n      <div className=\"calendar-container\">\n        <WeeklyCalendar\n          selectedDate={selectedDate}\n          onDateSelect={handleDateSelect}\n          workSchedule={workSchedule}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Calendrier;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}